NODE_ENV=development

# ── Database (REQUIRED) ────────────────────────────────
DATABASE_URL="postgresql://user:password@localhost:5432/database?schema=public"
# Admin connection (bypasses RLS); defaults to DATABASE_URL
DATABASE_URL_ADMIN=
# Auto-detected from URL; set to "postgresql" or "mysql" to override
DATABASE_PROVIDER=

# ── Server ─────────────────────────────────────────────
HOST=0.0.0.0
PORT=3000
DOMAIN=localhost
FRONTEND_DOMAIN=frontend.domain
ALLOWED_ORIGINS=frontend.domain
COOKIE_SECRET=your-cookie-secret-here
# true/false; defaults to true in production
TRUST_PROXY=

# ── Authentication (auto-configured) ───────────────────
# Auth is auto-enabled when a user table is detected in the Prisma schema.
# Identifier fields and password field are auto-detected from the schema.
# JWT secrets are auto-generated if not set (won't persist across restarts).
JWT_SECRET=
JWT_REFRESH_SECRET=
# redis or memory
AUTH_SESSION_STORAGE=redis
# Session TTL in seconds (default: 24h)
AUTH_SESSION_TTL=86400
# bcrypt salt rounds
AUTH_SALT_ROUNDS=10
# JWT access token expiry
AUTH_ACCESS_TOKEN_EXPIRY=1d
# JWT refresh token expiry
AUTH_REFRESH_TOKEN_EXPIRY=30d
# Auto-detected; set to override (e.g., "accounts")
DB_USER_TABLE=
# Auto-detected; set to override (e.g., "hash")
DB_USER_PASSWORD_FIELD=
# Comma-separated: bearer, basic, cookie, header (default: bearer)
AUTH_STRATEGIES=bearer
# Cookie name for cookie strategy (default: token)
AUTH_COOKIE_NAME=token
# Header name for header strategy (default: X-Auth-Token)
AUTH_CUSTOM_HEADER=X-Auth-Token

# ── API Settings ───────────────────────────────────────
# Max results per query
API_RESULT_LIMIT=500
# Rate limit window in ms (default: 15min)
RATE_LIMIT_WINDOW_MS=900000
# Max requests per window
RATE_LIMIT_MAX_REQUESTS=100

# ── Redis ──────────────────────────────────────────────
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB_RATE_LIMIT=0
REDIS_DB_AUTH=1

# ── Row-Level Security ─────────────────────────────────
# RLS is auto-enabled for PostgreSQL and disabled for MySQL.
# true/false; override auto-detection
RLS_ENABLED=
RLS_NAMESPACE=app
RLS_USER_ID=current_user_id
RLS_USER_ROLE=current_user_role
